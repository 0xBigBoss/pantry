distributable:
  url: https://ftp.gnu.org/gnu/gettext/gettext-{{version.raw}}.tar.gz
  strip-components: 1

dependencies:
  gnome.org/libxml2: 2
  #TODO ncurses

versions:
  github: autotools-mirror/gettext/tags
  strip: /v/

build:
  dependencies:
    tea.xyz/gx/cc: c99
    tea.xyz/gx/make: '*'
  script: |
    ./configure \
      --prefix={{ prefix }} \
      --disable-debug \
      --with-included-debug \
      --with-included-libcroco \
      --with-included-libunistring \
      --without-included-libxml \
      --disable-java \
      --disable-csharp
    make --jobs {{ hw.concurrency }}
    make install

test: gettext test
